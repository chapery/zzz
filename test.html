<!DOCTYPE html>
<html lang="en">

<head>
<<<<<<< HEAD
    <meta charset="UTF-8">
    <title>test</title>
    <style>
    *{
    	padding: 0;
    	margin: 0;
    	/*height: 100%;*/
    }
    .wrapper {}
    
    .page {
        height: 200px;
        margin: 10px;
        border: 2px solid silver;
    }
    .page.overflow{
    	border-color: red;
    	box-shadow: 0 0 4px red;
    }
    .page.overflow .question{
    	z-index: 2;
    }
    
    .question {
    	min-height: 44px;
        position: relative;
        margin: 10px;
        outline: 1px solid lime;
        background-color: white;
    }    

    .content{
    	padding: 10px;
    }
    .handle {
        position: absolute;
        right: 1px;
        bottom: 1px;
        width: 20px;
        height: 20px;
        text-align: center;
        line-height: 1;
        cursor: ns-resize;
    }
    
    .handle:after {
        content: "+";
    }
    </style>
</head>

<body ondragstart="return false;" ondragover="return false;" ondrop="return false;">
    <div class="wrapper">
        <div class="page">
            <div class="question">
                <div class="content">asdfadfafdasfda</div>
                <div class="handle"></div>
            </div>
            <div class="question">
                <div class="content">阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发</div>
                <div class="handle"></div>
            </div>
        </div>
        <div class="page">
            <div class="question">
                <div class="content">asdfadfafdasfda</div>
                <div class="handle"></div>
            </div>
            <div class="question">
                <div class="content">阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发阿发大厦的发发的发发的发阿萨德法师打发</div>
                <div class="handle"></div>
            </div>
        </div>
    </div>
    <script type="text/template" id="tpl-question">
    	<div class="question">
    		<div class="content"></div>
    		<div class="handle"></div>
    	</div>
    </script>
    <script src="jquery/jquery.js"></script>
    <script>

    var activeQue = null; // 当前拖拽的元素
    var pageHeight = $('.question').height();
    var pageData = [
    	{
    		index: 0, // 页码
    		queList: [
	    		{
	    			type: 0,// 题型
	    			index: 0, // 索引
	    			owner: 0, // 所属page
	    			height: ''
	    		},
	    		{
	    			type: 0,
	    			index: 1,
	    			owner: 0,
	    			height: ''
	    		}
    		]
    	},
    	{
    		index: 1,
    		queList: [
	    		{
	    			type: 1,
	    			index: 0,
	    			owner: 1,
	    			height: ''
	    		},
	    		{
	    			type: 1,
	    			index: 1,
	    			owner: 1,
	    			height: ''
	    		}
    		]
    	}
    ];

    $(document).on('mousedown', '.handle', function(e) {
        activeQue = $(this).parents('.question');
        activeQue.data('startH', activeQue.height());
        activeQue.data('startY', e.pageY);
    });

    $(document).on('mousemove', function(e) {

        if (!activeQue) return;

    	e.preventDefault();

    	var page = activeQue.parents('.page');
        var offsetY = e.pageY -activeQue .data('startY');
        var h = activeQue.data('startH') + offsetY;

        if (offsetY > 0 || activeQue.innerHeight() >= activeQue[0].scrollHeight) {
	        activeQue.height(h);
	        if (page.innerHeight() < page[0].scrollHeight) {
	        	page.addClass('overflow');
	        	if (!activeQue.data('maxH')) {
		        	activeQue.data('maxH', h - (page[0].scrollHeight - page.innerHeight()));
	        	}
	        } else {
	        	page.removeClass('overflow');
	        }
        };

        activeQue.data('offsetY', offsetY);
    });

    $(document).on('mouseup', function(e) {

    	if (!activeQue) return;

    	var page = activeQue.parents('.page');

    	if (activeQue.innerHeight() < activeQue[0].scrollHeight) {
    		activeQue.height(activeQue[0].scrollHeight);
    	};

    	// 拖动超出page
    	if (page.hasClass('overflow')) {
    		// 为page的最后一个question
    		if (activeQue.is(':last-child')) {
    			page.next().prepend($($('#tpl-question').html()).height(activeQue.height() - activeQue.data('maxH')));
    			activeQue.height(activeQue.data('maxH'));
    		}
    	};

    	page.removeClass('overflow');
    	activeQue = null;
    });

    function update() {
    	//
    }
    </script>
=======
<<<<<<< HEAD
    <meta charset="UTF-8">
    <title>test</title>
    <style>
        .mydiv{
            width: 400px;
            height: 400px;
            background-color: gray;
        }
    </style>
</head>
<body>
<div class="mydiv"></div>
<script>
    var div = document.querySelector('.mydiv');
    var flag = false;
    div.addEventListener('mousedown', function() {
        flag = true;
        console.log('mousedown');
    })
    div.addEventListener('mousemove', function() {
        if (!flag) return;
        console.log('mousemove');
    })
    div.addEventListener('mouseup', function() {
        flag = false;
        console.log('mouseup');
    })
=======
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		ul,li{
			list-style: none;
			margin: 0;
			padding: 0;
		}
		ul.en-card-list { height: 100%; padding: 20px;}
		/*ul.en-card-list:after { content: "\0020"; display: block; height: 0; clear: both; overflow: hidden; visibility: hidden; }*/

		ul > li.en-card-item { float: left; width: 33.3333%; height: 50%; box-sizing: border-box; display: block; position: relative; border: 2px solid red;}
		ul > li.en-card-item .inner { position: absolute; left: 10px; right: 10px; top: 10px; bottom: 10px;}
		ul > li:nth-last-child(1):first-child, ul > li:nth-last-child(1):first-child ~ li{ width: 33.33333%; height: 50%; top: 25%; left: 33.33333%;}
		ul > li:nth-last-child(2):first-child, ul > li:nth-last-child(2):first-child ~ li{ width: 33.33333%; height: 50%; top: 25%; left: 16.66666%;}
		ul > li:nth-last-child(3):first-child, ul > li:nth-last-child(3):first-child ~ li { width: 33.33333%; height: 50%; top: 25%;}
		ul > li:nth-last-child(4):first-child, ul > li:nth-last-child(4):first-child ~ li { width: 50%; height: 50%; }
		ul > li:nth-last-child(5):first-child, ul > li:nth-last-child(5):first-child + li { width: 50%; height: 50%; }
		ul > li:nth-last-child(6):first-child, ul > li:nth-last-child(6):first-child ~ li { width: 33.33333%; height: 50%; } 

		.en-card-e-preview {height: 600px; padding-bottom: 20px; }

		/*.en-card-e-preview li.en-card-item { padding-top: 28%; }*/
		.en-card-e-preview li.en-card-item .caption { font-size: 38px; line-height: 1.3; display: box; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; overflow: hidden; text-overflow: ellipsis; }
	</style>
</head>
<body>
<div class="en-card-e-preview">
	<ul class="en-card-list">
		<li class="en-card-item" v-for="(card,index) in cardList" v-bind:class="{appear: appear, open: status[index]}" v-bind:key="card.caption"></li>
		<li class="en-card-item" v-for="(card,index) in cardList" v-bind:class="{appear: appear, open: status[index]}" v-bind:key="card.caption"></li>
		<li class="en-card-item" v-for="(card,index) in cardList" v-bind:class="{appear: appear, open: status[index]}" v-bind:key="card.caption"></li>
		<li class="en-card-item" v-for="(card,index) in cardList" v-bind:class="{appear: appear, open: status[index]}" v-bind:key="card.caption"></li>
		<li class="en-card-item" v-for="(card,index) in cardList" v-bind:class="{appear: appear, open: status[index]}" v-bind:key="card.caption"></li>
	</ul>
</div>
<script>
>>>>>>> f95c6e5116f50a5f330bcdb3599192b2b43264f4
</script>
>>>>>>> 235db50b5bc481a797961d595b07b31ab8fbcd74
</body>

</html>
