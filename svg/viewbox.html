<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>viewbox</title>
	<style>
		html,body,div,form{margin: 0; padding: 0;}
		.box{
			display:flex;
			width:100%;
		}
		.left{
			flex-grow:1;
		}
		.right{
			width:240px;
		}
		.lab{
			display:inline-block;
			width:50px;
			padding-right: 5px;
			text-align: right;
		}
		.inpNum{
			width:100px;
		}
		.svg{
			width:500px;
			height:500px;
			background:silver;
		}
	</style>
</head>
<body>
	<div class="box">
		<div class="left">
			<svg id="svg" class="svg" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 500 500" preserveAspectRatio="xMidYMid meet">
				<rect width="200" height="200" x="0" y="0" fill="gray"></rect>
				<rect width="200" height="200" x="300" y="300" fill="black"></rect>
				<rect id="refer" width="100%" height="100%" stroke="red" stroke-width="2" fill="none"></rect>
			</svg>
		</div>
		<div class="right">
			<form id="form1" action="">
				<fieldset>
					<legend>viewbox</legend>
					<label for="vx" class="lab">vx:</label><input id="vx" class="inpNum" type="number" value="0"><br/>
					<label for="vy" class="lab">vy:</label><input id="vy" class="inpNum" type="number" value="0"><br/>
					<label for="vw" class="lab">vw:</label><input id="vw" class="inpNum" type="number" value="500"><br/>
					<label for="vh" class="lab">vh:</label><input id="vh" class="inpNum" type="number" value="500">
				</fieldset>
				<fieldset>
					<legend>preserveAspectRatio</legend>
					<label for="align" class="lab">align:</label><select id="align">
						<option value="none">none</option>
						<option value="xMinYMin">xMinYMin</option>
						<option value="xMidYMin">xMidYMin</option>
						<option value="xMaxYMin">xMaxYMin</option>
						<option value="xMinYMid">xMinYMid</option>
						<option value="xMidYMid" selected="selected">xMidYMid</option>
						<option value="xMaxYMid">xMaxYMid</option>
						<option value="xMinYMax">xMinYMax</option>
						<option value="xMidYMax">xMidYMax</option>
						<option value="xMaxYMax">xMaxYMax</option>
					</select><br/>
					<label for="fit" class="lab">fit:</label><select id="fit">
						<option value="meet" selected="selected">meet</option>
						<option value="slice">slice</option>
					</select>
				</fieldset>
			</form>
		</div>
	</div>
	<script>
		var svg = document.getElementById('svg'),
			refer = document.getElementById('refer');
		form1.addEventListener('input',function(e){
			var vx = document.getElementById('vx').value || 0,
				vy = document.getElementById('vy').value || 0,
				vw = document.getElementById('vw').value || svg.offsetWidth,
				vh = document.getElementById('vh').value || svg.offsetWidth,
				align = document.getElementById('align').value,
				fit = document.getElementById('fit').value;
			svg.setAttribute('viewBox',vx+' '+vy+' '+vw+' '+vh);
			svg.setAttribute('preserveAspectRatio',align+' '+fit);
			refer.setAttribute('width',vw);
			refer.setAttribute('height',vh);
		});
	</script>
</body>
</html>